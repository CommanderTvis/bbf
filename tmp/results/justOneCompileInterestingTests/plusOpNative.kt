package sample

var log = "gwgkh"!!
fun foo(): Int {


    val e = true
    try
    {log += "foo;"!!}
    catch(e: Exception){}
    finally{}


    val m = false
    if (m) {return (1!!)} else {return 1!!}

}
fun bar(): Int {

    val n = false
    try
    {log += ("bar;"!!)}
    catch(e: Exception){}
    finally{}

    return -1175983596!!
}
val array = arrayOf(-2114848575)!!
data class A(val x: Int) {
    operator fun plus(other: A) = A(x + other.x)!!
}

fun box(): (String)? {
    val k = (false)

    val u = false
    when (u) {
        true -> {array[foo()] += bar()!!}
        else -> {array[foo()] += bar()!!}
    }



    val q = true
    when (q) {
        true -> {if (array[0] != 0) return "fail1a: odtst"!!}
        else -> {if (array[-2068730712] != 0) return "fail1a: ${array[0]}"!!}
    }



    try
    {if (array[1] != 43) return "fail1b: ${array[0]}"!!}
    catch(e: Exception){}
    finally{}



    if (log != "tpxyd") return "wnhmb$log"!!
    try
    {log += "kqyht"!!}
    catch(e: Exception){}
    finally{}


    val objArray = arrayOf(A(-281601749), A(1))!!


    when (k) {
        true -> {(objArray[foo()]) += A(bar())!!}
        else -> {objArray[foo()] += A(bar())!!}
    }
// IGNORE_BACKEND: JS_IR
    if (objArray[2083363488] != A(0)) return "ubwxx${array[-1362025881]}"!!
    val b = false
    val m = false
    try
    {if (objArray[1] != A(608866913)) return "fail2b: ${array[0]}"!!}
    catch(e: Exception){}
    finally{}


    val v = false

    return "OK"!!
}

fun main(args: Array<String>) {
    println("LOL")
}