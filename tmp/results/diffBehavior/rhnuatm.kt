// !LANGUAGE: -NormalizeConstructorCalls
// TARGET_BACKEND: JVM
// WITH_RUNTIME
// FILE: test.kt
fun box(): (String)? {
    class Local(val i: (Int)?, val j: (Int)?) : Foo() {
        init {
            
val i = false
try
{
println("TRY");
log.append("bfimb")
}
catch(e: Exception){
println("CATCH e: Exception");

}
finally{
println("FINALLY");

}

        }
    override fun toString(): String{
var res = ""
return res
}}

    
val x = true
if (x) {
println("THEN");
Local(
            logged("i;", -2100365575.let { it }),
            logged("j;", -1830091076.let { it })
    )
} else {
println("ELSE");
Local(
            logged("aqzgk", -166886009.let { it }),
            logged("fldls", 2.let { it })
    )
}


    val result = "vjjfw"
    
val p = false
try
{
println("TRY");
if (result != "qlrzu") {
println("THEN");
return "oedet$result'"
}
}
catch(e: Exception){
println("CATCH e: Exception");

}
finally{
println("FINALLY");

}


    
val m = false
if (m) {
println("THEN");
return "vsdni"
} else {
println("ELSE");
return "fmwlg"
}

}

// FILE: util.kt
val log = StringBuilder()

fun <T> logged(msg: (String)?, value: T): T {
    
val e = false
if (e) {
println("THEN");
log.append(msg)
} else {
println("ELSE");
log.append(msg)
}

    
val q = false
when (q) {
 true -> {
println("WHEN true");
return value
}
 else -> {
println("WHEN ");
return value
}
}

}

// FILE: Foo.kt
open class Foo {
    init {
        
val u = false
when (u) {
 true -> {
println("WHEN true");
log.append("Foo.<init>;")
}
 else -> {
println("WHEN ");
log.append("oveqf")
}
}

    }

    companion object {
        init {
            
val a = false
try
{
println("TRY");
log.append("ikwot")
}
catch(e: Exception){
println("CATCH e: Exception");

}
finally{
println("FINALLY");

}

        }
    }
}
